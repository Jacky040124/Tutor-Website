(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[206],{857:function(e,s,i){Promise.resolve().then(i.bind(i,423))},5956:function(e,s,i){"use strict";i.d(s,{I8:function(){return a},JU:function(){return n.JU},QT:function(){return n.QT},db:function(){return r},pl:function(){return n.pl}});var t=i(2848),n=i(4353),l=i(9271);let d=(0,t.ZF)({apiKey:"AIzaSyDdKApKZNEERKmPLfB8SxlGsJRTZV5ALvc",authDomain:"tutor-website-5528f.firebaseapp.com",projectId:"tutor-website-5528f",storageBucket:"tutor-website-5528f.appspot.com",messagingSenderId:"320690040214",appId:"1:320690040214:web:fde29b5326692c27e981b7",measurementId:"G-J0MZ8W9SSG"}),r=(0,n.ad)(d),a=(0,l.v0)(d)},423:function(e,s,i){"use strict";i.d(s,{CalendarClient:function(){return c}});var t=i(7437),n=i(2265);i(1591);var l=i(5956),d=i(3881);function r(){let{user:e}=(0,d.a)(),[s,i]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{if(e)try{var s;let t=await (0,l.QT)((0,l.JU)(l.db,"users",e.uid));(null==t?void 0:null===(s=t.data())||void 0===s?void 0:s.availability)&&(console.log("Fetched availability:",t.data().availability),i(t.data().availability))}catch(e){console.error("Error fetching availability:",e)}})()},[e]);let r=new Date;r.getFullYear(),r.toLocaleString("default",{month:"long"});let a=r.getDate(),c=e=>{let{day:s,startTime:i,endTime:n}=e,l=12*i+2;return console.log("day:"+s,"startTime:"+i,"endTime:"+n),(0,t.jsx)("li",{className:"relative mt-px hidden ".concat({1:"sm:col-start-1",2:"sm:col-start-2",3:"sm:col-start-3",4:"sm:col-start-4",5:"sm:col-start-5",6:"sm:col-start-6",7:"sm:col-start-7"}[s]," sm:flex"),style:{gridRow:"".concat(l," / span ").concat((n-i)*12)},children:(0,t.jsx)("a",{className:"group absolute inset-1 flex flex-col overflow-y-auto rounded-lg bg-green-100 p-2 text-xs leading-5 hover:bg-green-200",children:(0,t.jsx)("p",{className:"text-gray-500 group-hover:text-gray-700",children:(0,t.jsxs)("time",{dateTime:"2022-01-15T".concat(i,":00"),children:[i,":00"]})})})})};return(0,t.jsx)("div",{className:"flex h-full flex-col",children:(0,t.jsx)("div",{className:"isolate flex flex-auto flex-col overflow-auto bg-white",children:(0,t.jsxs)("div",{className:"flex max-w-full flex-none flex-col sm:max-w-none md:max-w-full",style:{width:"165%"},children:[(0,t.jsx)(()=>(0,t.jsxs)("div",{className:"sticky top-0 z-30 flex-none bg-white shadow ring-1 ring-black ring-opacity-5 sm:pr-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-7 text-sm leading-6 text-gray-500 sm:hidden",children:[(0,t.jsxs)("button",{type:"button",className:"flex flex-col items-center pb-3 pt-2",children:["M ",(0,t.jsx)("span",{className:"mt-1 flex h-8 w-8 items-center justify-center font-semibold text-gray-900",children:"10"})]}),(0,t.jsxs)("button",{type:"button",className:"flex flex-col items-center pb-3 pt-2",children:["T ",(0,t.jsx)("span",{className:"mt-1 flex h-8 w-8 items-center justify-center font-semibold text-gray-900",children:"11"})]}),(0,t.jsxs)("button",{type:"button",className:"flex flex-col items-center pb-3 pt-2",children:["W ",(0,t.jsx)("span",{className:"mt-1 flex h-8 w-8 items-center justify-center rounded-full bg-indigo-600 font-semibold text-white",children:"12"})]}),(0,t.jsxs)("button",{type:"button",className:"flex flex-col items-center pb-3 pt-2",children:["T ",(0,t.jsx)("span",{className:"mt-1 flex h-8 w-8 items-center justify-center font-semibold text-gray-900",children:"13"})]}),(0,t.jsxs)("button",{type:"button",className:"flex flex-col items-center pb-3 pt-2",children:["F ",(0,t.jsx)("span",{className:"mt-1 flex h-8 w-8 items-center justify-center font-semibold text-gray-900",children:"14"})]}),(0,t.jsxs)("button",{type:"button",className:"flex flex-col items-center pb-3 pt-2",children:["S ",(0,t.jsx)("span",{className:"mt-1 flex h-8 w-8 items-center justify-center font-semibold text-gray-900",children:"15"})]}),(0,t.jsxs)("button",{type:"button",className:"flex flex-col items-center pb-3 pt-2",children:["S ",(0,t.jsx)("span",{className:"mt-1 flex h-8 w-8 items-center justify-center font-semibold text-gray-900",children:"16"})]})]}),(0,t.jsxs)("div",{className:"-mr-px hidden grid-cols-7 divide-x divide-gray-100 border-r border-gray-100 text-sm leading-6 text-gray-500 sm:grid",children:[(0,t.jsx)("div",{className:"col-end-1 w-14"}),(0,t.jsx)("div",{className:"flex items-center justify-center py-3",children:(0,t.jsxs)("span",{children:["Mon ",(0,t.jsx)("span",{className:"items-center justify-center font-semibold text-gray-900",children:a})]})}),(0,t.jsx)("div",{className:"flex items-center justify-center py-3",children:(0,t.jsxs)("span",{children:["Tue ",(0,t.jsx)("span",{className:"items-center justify-center font-semibold text-gray-900",children:a+1})]})}),(0,t.jsx)("div",{className:"flex items-center justify-center py-3",children:(0,t.jsxs)("span",{className:"flex items-baseline",children:["Wed ",(0,t.jsx)("span",{className:"ml-1.5 flex h-8 w-8 items-center justify-center rounded-full bg-indigo-600 font-semibold text-white",children:a+2})]})}),(0,t.jsx)("div",{className:"flex items-center justify-center py-3",children:(0,t.jsxs)("span",{children:["Thu ",(0,t.jsx)("span",{className:"items-center justify-center font-semibold text-gray-900",children:a+3})]})}),(0,t.jsx)("div",{className:"flex items-center justify-center py-3",children:(0,t.jsxs)("span",{children:["Fri ",(0,t.jsx)("span",{className:"items-center justify-center font-semibold text-gray-900",children:a+4})]})}),(0,t.jsx)("div",{className:"flex items-center justify-center py-3",children:(0,t.jsxs)("span",{children:["Sat ",(0,t.jsx)("span",{className:"items-center justify-center font-semibold text-gray-900",children:a+5})]})}),(0,t.jsx)("div",{className:"flex items-center justify-center py-3",children:(0,t.jsxs)("span",{children:["Sun ",(0,t.jsx)("span",{className:"items-center justify-center font-semibold text-gray-900",children:a+6})]})})]})]}),{}),(0,t.jsxs)("div",{className:"flex flex-auto",children:[(0,t.jsx)("div",{className:"sticky left-0 z-10 w-14 flex-none bg-white ring-1 ring-gray-100"}),(0,t.jsxs)("div",{className:"grid flex-auto grid-cols-1 grid-rows-1",children:[(0,t.jsxs)("div",{className:"col-start-1 col-end-2 row-start-1 grid divide-y divide-gray-100",style:{gridTemplateRows:"repeat(48, minmax(3.5rem, 1fr))"},children:[(0,t.jsx)("div",{className:"row-end-1 h-7"}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"12AM"})," "]}),(0,t.jsx)("div",{children:" "}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"1AM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"2AM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"3AM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"4AM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"5AM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"6AM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"7AM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"8AM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"9AM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"10AM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"11AM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"12PM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"1PM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"2PM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"3PM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"4PM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"5PM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"6PM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"7PM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"8PM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"9PM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"10PM"})," "]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("div",{className:"calendarText",children:"11PM"})," "]}),(0,t.jsx)("div",{})]}),(0,t.jsx)(()=>(0,t.jsxs)("div",{className:"col-start-1 col-end-2 row-start-1 hidden grid-cols-7 grid-rows-1 divide-x divide-gray-100 sm:grid sm:grid-cols-7",children:[(0,t.jsx)("div",{className:"col-start-1 row-span-full"}),(0,t.jsx)("div",{className:"col-start-2 row-span-full"}),(0,t.jsx)("div",{className:"col-start-3 row-span-full"}),(0,t.jsx)("div",{className:"col-start-4 row-span-full"}),(0,t.jsx)("div",{className:"col-start-5 row-span-full"}),(0,t.jsx)("div",{className:"col-start-6 row-span-full"}),(0,t.jsx)("div",{className:"col-start-7 row-span-full"}),(0,t.jsx)("div",{className:"col-start-8 row-span-full w-8"})]}),{}),(0,t.jsx)(()=>{if(!s)return null;let e=s.map((e,s)=>(console.log("Event ".concat(s," before render:"),{day:e.day,startTime:e.startTime,endTime:e.endTime}),(0,t.jsx)(c,{day:e.day,endTime:e.endTime,startTime:e.startTime},s)));return(0,t.jsx)("ol",{className:"col-start-1 col-end-2 row-start-1 grid grid-cols-1 sm:grid-cols-7 sm:pr-8",style:{gridTemplateRows:"1.75rem repeat(288, minmax(0, 1fr)) auto"},children:e})},{})]})]})]})})})}function a(e){let{showOverlay:s,setShowOverlay:i}=e,[r,a]=(0,n.useState)(""),[c,o]=(0,n.useState)(""),[x,m]=(0,n.useState)(""),[h,j]=(0,n.useState)([]),{user:u}=(0,d.a)();(0,n.useEffect)(()=>{(async()=>{if(null==u?void 0:u.uid){var e;let s=(0,l.JU)(l.db,"users",u.uid);j((null===(e=(await (0,l.QT)(s)).data())||void 0===e?void 0:e.availability)||[])}})()},[u]);let f={Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6,Sunday:7},v=e=>{let[s,i]=e.split(":").map(Number);return s+i/60},p=async e=>{e.preventDefault();let s={day:f[r],startTime:v(c),endTime:v(x)};if(null==u?void 0:u.uid){let e=(0,l.JU)(l.db,"users",u.uid),t=[...h,s];await (0,l.pl)(e,{availability:t},{merge:!0}),j(t),i(!1)}},g=()=>{i(!1)},y=e=>{let{name:s,onChange:i,value:n}=e;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"time",className:"block text-sm font-medium leading-6 text-gray-900",children:[" ",s," "]}),(0,t.jsxs)("select",{onChange:i,value:n,id:"time",name:"time",className:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,t.jsx)("option",{children:"00:00"}),(0,t.jsx)("option",{children:"00:30"}),(0,t.jsx)("option",{children:"01:00"}),(0,t.jsx)("option",{children:"01:30"}),(0,t.jsx)("option",{children:"02:00"}),(0,t.jsx)("option",{children:"02:30"}),(0,t.jsx)("option",{children:"03:00"}),(0,t.jsx)("option",{children:"03:30"}),(0,t.jsx)("option",{children:"04:00"}),(0,t.jsx)("option",{children:"04:30"}),(0,t.jsx)("option",{children:"05:00"}),(0,t.jsx)("option",{children:"05:30"}),(0,t.jsx)("option",{children:"06:00"}),(0,t.jsx)("option",{children:"06:30"}),(0,t.jsx)("option",{children:"07:00"}),(0,t.jsx)("option",{children:"07:30"}),(0,t.jsx)("option",{children:"08:00"}),(0,t.jsx)("option",{children:"08:30"}),(0,t.jsx)("option",{children:"09:00"}),(0,t.jsx)("option",{children:"09:30"}),(0,t.jsx)("option",{children:"10:00"}),(0,t.jsx)("option",{children:"10:30"}),(0,t.jsx)("option",{children:"11:00"}),(0,t.jsx)("option",{children:"11:30"}),(0,t.jsx)("option",{children:"12:00"}),(0,t.jsx)("option",{children:"12:30"}),(0,t.jsx)("option",{children:"13:00"}),(0,t.jsx)("option",{children:"13:30"}),(0,t.jsx)("option",{children:"14:00"}),(0,t.jsx)("option",{children:"14:30"}),(0,t.jsx)("option",{children:"15:00"}),(0,t.jsx)("option",{children:"15:30"}),(0,t.jsx)("option",{children:"16:00"}),(0,t.jsx)("option",{children:"16:30"}),(0,t.jsx)("option",{children:"17:00"}),(0,t.jsx)("option",{children:"17:30"}),(0,t.jsx)("option",{children:"18:00"}),(0,t.jsx)("option",{children:"18:30"}),(0,t.jsx)("option",{children:"19:00"}),(0,t.jsx)("option",{children:"19:30"}),(0,t.jsx)("option",{children:"20:00"}),(0,t.jsx)("option",{children:"20:30"}),(0,t.jsx)("option",{children:"21:00"}),(0,t.jsx)("option",{children:"21:30"}),(0,t.jsx)("option",{children:"22:00"}),(0,t.jsx)("option",{children:"22:30"}),(0,t.jsx)("option",{children:"23:00"}),(0,t.jsx)("option",{children:"23:30"})]})]})};return(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"relative z-10","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true",children:[(0,t.jsx)("div",{className:"fixed inset-0"}),(0,t.jsx)("div",{className:"fixed inset-0 overflow-hidden",children:(0,t.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,t.jsx)("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16",children:(0,t.jsx)("div",{className:"pointer-events-auto w-screen max-w-md",children:(0,t.jsxs)("form",{className:"flex h-full flex-col divide-y divide-gray-200 bg-white shadow-xl",children:[(0,t.jsxs)("div",{className:"h-0 flex-1 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"bg-indigo-700 px-4 py-6 sm:px-6 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-base font-semibold leading-6 text-white",id:"slide-over-title",children:"New Event"}),(0,t.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,t.jsxs)("button",{onClick:g,type:"button",className:"rounded-md bg-indigo-700 text-indigo-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",children:[(0,t.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]})})]}),(0,t.jsx)("div",{className:"flex flex-1 flex-col justify-between",children:(0,t.jsx)("div",{className:"divide-y divide-gray-200 px-4 sm:px-6",children:(0,t.jsxs)("div",{className:"space-y-6 pb-5 pt-6",children:[(0,t.jsx)(e=>{let{onChange:s,value:i}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"day",className:"block text-sm font-medium leading-6 text-gray-900",children:" Day "}),(0,t.jsxs)("select",{onChange:s,value:i,id:"day",name:"day",className:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,t.jsx)("option",{children:"Monday"}),(0,t.jsx)("option",{children:"Tuesday"}),(0,t.jsx)("option",{children:"Wednesday"}),(0,t.jsx)("option",{children:"Thursday"}),(0,t.jsx)("option",{children:"Friday"}),(0,t.jsx)("option",{children:"Saturday"}),(0,t.jsx)("option",{children:"Sunday"})]})]})},{onChange:e=>{a(e.target.value)},value:r}),(0,t.jsx)(y,{onChange:e=>{o(e.target.value)},name:"Start Time",value:c}),(0,t.jsx)(y,{onChange:e=>{m(e.target.value)},name:"End Time",value:x})]})})})]}),(0,t.jsxs)("div",{className:"flex flex-shrink-0 justify-end px-4 py-4",children:[(0,t.jsx)("button",{onClick:g,type:"button",className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:p,type:"submit",className:"ml-4 inline-flex justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Save"})]})]})})})})})]})})}function c(){let[e,s]=(0,n.useState)(!1);return(0,t.jsxs)("div",{className:"flex h-full flex-col",children:[(0,t.jsxs)("header",{className:"flex flex-none items-center justify-between border-b border-gray-200 px-6 py-4",children:[(0,t.jsx)("h1",{className:"text-base font-semibold leading-6 text-gray-900",children:(0,t.jsxs)("time",{dateTime:"2022-01",children:[new Date().toLocaleString("default",{month:"long"})," ",new Date().getFullYear()]})}),(0,t.jsx)("button",{onClick:()=>s(!0),type:"button",className:"ml-6 rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",children:" Add event "})]}),(0,t.jsx)(r,{}),e&&(0,t.jsx)(a,{setShowOverlay:s})]})}},3881:function(e,s,i){"use strict";i.d(s,{S:function(){return l},UserProvider:function(){return r},a:function(){return d}});var t=i(7437),n=i(2265);let l=(0,n.createContext)();function d(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}function r(e){let{children:s}=e,[i,d]=(0,n.useState)(null);return(0,t.jsx)(l.Provider,{value:{user:i,setUser:d},children:s})}},1591:function(){}},function(e){e.O(0,[597,301,83,417,971,117,744],function(){return e(e.s=857)}),_N_E=e.O()}]);