(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[649],{6263:function(e,t,s){Promise.resolve().then(s.bind(s,189))},189:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var l=s(7437);s(5956);var a=s(2265),n=s(3881),i=s(662);function r(){let{user:e,loading:t,teacherList:s,availability:r,updateAvailability:o,fetchTeachers:c}=(0,n.a)(),[d,u]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!0),[x,f]=(0,a.useState)(""),[m,v]=(0,a.useState)(null);async function y(e){let t=e.target.value;if(f(t),t){console.log("Selected teacher ID:",t);let e=s[t];console.log("Teacher data:",e),v(e.availability),console.log("teacher Availability:",e.availability)}else v(null)}return((0,a.useEffect)(()=>{console.log("Student page mount - userLoading:",t,"user:",e,"isLoading:",h);let s=async()=>{try{if(!(null==e?void 0:e.uid)){console.log("No user ID yet, setting isLoading false"),g(!1);return}console.log("Fetching data for user:",e.uid)}catch(e){console.error("Error fetching data:",e)}finally{console.log("Setting isLoading to false"),g(!1)}};t||s()},[e,t]),(0,a.useEffect)(()=>{c()},[]),t||h)?(console.log("Rendering loading state - userLoading:",t,"isLoading:",h),(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsx)("div",{className:"text-lg",children:"Loading..."})})):e?(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{children:["Hi, ",null==e?void 0:e.uid]}),(0,l.jsx)("h1",{children:"Who's ready to maximise shareholder value?"}),(0,l.jsx)(()=>(0,l.jsxs)("header",{className:"flex flex-none items-center justify-between border-b border-gray-200 px-6 py-4",children:[(0,l.jsx)("h1",{className:"text-base font-semibold leading-6 text-gray-900",children:(0,l.jsxs)("time",{dateTime:"2022-01",children:[new Date().toLocaleString("default",{month:"long"})," ",new Date().getFullYear()]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("select",{onChange:y,value:x,className:"rounded-md border-gray-300 px-3 py-2 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50",children:[(0,l.jsx)("option",{value:"",children:"Select a Teacher"}),s&&Object.entries(s).map(e=>{let[t,s]=e;return(0,l.jsx)("option",{value:t,children:s.name||s.email},t)})]})})]}),{}),(0,l.jsxs)("div",{className:"flex h-full flex-col",children:[(0,l.jsx)(i.Z,{setShowOverlay:u,availability:m}),(0,l.jsxs)("div",{className:"text-sm text-gray-500 mt-2",children:["Debug - Selected Teacher: ",x,(0,l.jsx)("br",{}),"Debug - Availability: ",JSON.stringify(m)]})]})]}):(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsx)("div",{className:"text-lg",children:"Please sign in to access this page"})})}}},function(e){e.O(0,[461,301,83,417,662,971,117,744],function(){return e(e.s=6263)}),_N_E=e.O()}]);