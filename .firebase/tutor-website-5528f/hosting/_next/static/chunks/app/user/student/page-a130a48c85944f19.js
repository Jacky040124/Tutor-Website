(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[649],{6263:function(e,t,s){Promise.resolve().then(s.bind(s,189))},189:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var a=s(7437);s(5956);var l=s(2265),n=s(3881),i=s(662);function r(){let{user:e,loading:t,teacherList:s,fetchTeachers:r}=(0,n.a)(),[c,o]=(0,l.useState)(!1),[d,u]=(0,l.useState)(!0),[h,g]=(0,l.useState)(""),[x,f]=(0,l.useState)(null),[m,v]=(0,l.useState)([]),[j,b]=(0,l.useState)(""),[y,S]=(0,l.useState)(0);async function p(e){let t=e.target.value;if(g(t),t){console.log("Selected teacher ID:",t);let e=s[t];S(e.price),b(e.nickname),console.log("Teacher data:",e),f(e.availability),console.log("teacher Availability:",e.availability)}else f(null),b(""),S(0)}return((0,l.useEffect)(()=>{console.log("Student page mount - userLoading:",t,"user:",e,"isLoading:",d);let s=async()=>{try{if(!(null==e?void 0:e.uid)){console.log("No user ID yet, setting isLoading false"),u(!1);return}console.log("Fetching data for user:",e.uid)}catch(e){console.error("Error fetching data:",e)}finally{console.log("Setting isLoading to false"),u(!1)}};t||s()},[e,t]),(0,l.useEffect)(()=>{r()},[]),t||d)?(console.log("Rendering loading state - userLoading:",t,"isLoading:",d),(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"text-lg",children:"Loading..."})})):e?(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{children:["Hi, ",e.nickname]}),(0,a.jsxs)("h1",{children:[" ",j?"".concat(j,"'s rate is ").concat(y," dollars per hour"):"Select a teacher"]}),(0,a.jsxs)("h1",{children:["Your balance is ",e.balance," dollars"]}),(0,a.jsx)(()=>(0,a.jsxs)("header",{className:"flex flex-none items-center justify-between border-b border-gray-200 px-6 py-4",children:[(0,a.jsx)("h1",{className:"text-base font-semibold leading-6 text-gray-900",children:(0,a.jsxs)("time",{dateTime:"2022-01",children:[new Date().toLocaleString("default",{month:"long"})," ",new Date().getFullYear()]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{onChange:p,value:h,className:"rounded-md border-gray-300 px-3 py-2 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50",children:[(0,a.jsx)("option",{value:"",children:"Select a Teacher"}),s&&Object.entries(s).map(e=>{let[t,s]=e;return(0,a.jsx)("option",{value:t,children:s.nickname},t)})]})})]}),{}),(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsx)(i.Z,{setShowOverlay:o,availability:x,handleClickEvent:()=>{},selectedEvents:m}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 mt-2",children:["Debug - Selected Teacher: ",h,(0,a.jsx)("br",{}),"Debug - Availability: ",JSON.stringify(x)]})]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"text-lg",children:"Please sign in to access this page"})})}}},function(e){e.O(0,[461,301,83,417,662,971,117,744],function(){return e(e.s=6263)}),_N_E=e.O()}]);