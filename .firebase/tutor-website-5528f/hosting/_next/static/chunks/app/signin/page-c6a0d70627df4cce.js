(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{8570:function(e,t,s){Promise.resolve().then(s.bind(s,7048))},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var n=s(2972),r=s.n(n)},5956:function(e,t,s){"use strict";s.d(t,{I8:function(){return u},JU:function(){return r.JU},QT:function(){return r.QT},db:function(){return a},pl:function(){return r.pl}});var n=s(2848),r=s(4353),l=s(9271);let i=(0,n.ZF)({apiKey:"AIzaSyDdKApKZNEERKmPLfB8SxlGsJRTZV5ALvc",authDomain:"tutor-website-5528f.firebaseapp.com",projectId:"tutor-website-5528f",storageBucket:"tutor-website-5528f.appspot.com",messagingSenderId:"320690040214",appId:"1:320690040214:web:fde29b5326692c27e981b7",measurementId:"G-J0MZ8W9SSG"}),a=(0,r.ad)(i),u=(0,l.v0)(i)},7048:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var n=s(7437),r=s(2265),l=s(5956),i=s(3881),a=s(9271),u=s(5475),o=s(7648),c=s(8201),d=s(6900);function f(){let[e,t]=(0,r.useState)(""),[s,f]=(0,r.useState)(""),[x,m]=(0,r.useState)(""),b=(0,u.useRouter)(),{user:h,setUser:g}=(0,i.a)();(0,r.useEffect)(()=>{console.log("Current user in effect:",h),h&&(console.log("User type:",h.type),"teacher"===h.type?b.replace("/user/teacher"):"student"===h.type&&b.replace("/user/student"))},[h,b]);let v=async t=>{t.preventDefault(),console.log("Starting sign-in process...");try{let t=await (0,a.e5)(l.I8,e,s);console.log("Sign-in successful:",t.user.uid);let n=(0,l.JU)(l.db,"users",t.user.uid),r=await (0,l.QT)(n);if(!r.exists()){m("User data not found");return}let i=r.data();console.log("User data from Firestore:",i),g({email:t.user.email,uid:t.user.uid,type:i.type})}catch(e){console.error("Sign-in error:",e),m(e.message||"Sign in failed")}};return(0,n.jsxs)("div",{className:"flex min-h-screen",children:[(0,n.jsxs)("div",{className:"w-1/2 flex flex-col px-8 lg:px-12 xl:px-16",children:[(0,n.jsx)("div",{className:"absolute top-4 left-4",children:(0,n.jsx)(o.default,{href:"/","aria-label":"Home",children:(0,n.jsx)(c.z,{variant:"outline",color:"slate",children:"← Back to home"})})}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col justify-center max-w-md mx-auto w-full",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-3xl font-bold",children:"Sign in to your account"}),(0,n.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Don't have an account?"," ",(0,n.jsx)(o.default,{href:"/signup",className:"font-medium text-green-600 hover:text-green-500",children:"Sign up"})," ","for a free trial."]})]}),(0,n.jsx)("div",{className:"mt-8",children:(0,n.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,n.jsx)(d.n,{label:"Email address",name:"email",type:"email",autoComplete:"email",onChange:e=>t(e.target.value),required:!0}),(0,n.jsx)(d.n,{label:"Password",name:"password",type:"password",autoComplete:"current-password",onChange:e=>f(e.target.value),required:!0}),x&&(0,n.jsx)("div",{className:"text-red-500 text-sm",children:x}),(0,n.jsx)("div",{children:(0,n.jsx)(c.z,{type:"submit",variant:"solid",color:"blue",className:"w-full flex justify-center bg-green-600 hover:bg-green-700",children:"Sign in →"})})]})})]})]}),(0,n.jsx)("div",{className:"hidden lg:block w-1/2 bg-green-600 relative",children:(0,n.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-white p-12",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold mb-6",children:"Welcome Back!"}),(0,n.jsx)("p",{className:"text-xl text-center max-w-md",children:"Connect with the best tutors and continue your learning journey today."})]})})]})}},8201:function(e,t,s){"use strict";s.d(t,{z:function(){return u}});var n=s(7437),r=s(7648),l=function(){for(var e,t,s=0,n="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=function e(t){var s,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t)){var l=t.length;for(s=0;s<l;s++)t[s]&&(n=e(t[s]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n)}return r}(e))&&(n&&(n+=" "),n+=t);return n};let i={solid:"group inline-flex items-center justify-center rounded-full py-2 px-4 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2",outline:"group inline-flex ring-1 items-center justify-center rounded-full py-2 px-4 text-sm focus:outline-none"},a={solid:{slate:"bg-slate-900 text-white hover:bg-slate-700 hover:text-slate-100 active:bg-slate-800 active:text-slate-300 focus-visible:outline-slate-900",blue:"bg-blue-600 text-white hover:text-slate-100 hover:bg-blue-500 active:bg-blue-800 active:text-blue-100 focus-visible:outline-blue-600",white:"bg-white text-slate-900 hover:bg-blue-50 active:bg-blue-200 active:text-slate-600 focus-visible:outline-white"},outline:{slate:"ring-slate-200 text-slate-700 hover:text-slate-900 hover:ring-slate-300 active:bg-slate-100 active:text-slate-600 focus-visible:outline-blue-600 focus-visible:ring-slate-300",white:"ring-slate-700 text-white hover:ring-slate-500 active:ring-slate-700 active:text-slate-400 focus-visible:outline-white"}};function u(e){let{variant:t,color:s,className:u,...o}=e;return s=null!=s?s:"slate",u=l(i[t=null!=t?t:"solid"],a[t][s],u),void 0===o.href?(0,n.jsx)("button",{className:u,...o}):(0,n.jsx)(r.default,{className:u,...o})}},6900:function(e,t,s){"use strict";s.d(t,{n:function(){return i}});var n=s(7437),r=s(2265);function l(e){let{id:t,children:s}=e;return(0,n.jsx)("label",{htmlFor:t,className:"mb-3 block text-sm font-medium text-gray-700",children:s})}function i(e){let{label:t,type:s="text",className:i,...a}=e,u=(0,r.useId)();return(0,n.jsxs)("div",{className:i,children:[t&&(0,n.jsx)(l,{id:u,children:t}),(0,n.jsx)("input",{id:u,type:s,...a,className:"block w-full appearance-none rounded-md border border-gray-200 bg-gray-50 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-blue-500 sm:text-sm"})]})}},3881:function(e,t,s){"use strict";s.d(t,{UserProvider:function(){return u},a:function(){return o}});var n=s(7437),r=s(2265),l=s(5956),i=s(9271);let a=(0,r.createContext)();function u(e){let{children:t}=e,[s,u]=(0,r.useState)(null),[o,c]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=(0,i.Aj)(l.I8,e=>{e?u({email:e.email,uid:e.uid}):u(null),c(!1)});return()=>e()},[]),(0,n.jsx)(a.Provider,{value:{user:s,setUser:u,loading:o},children:t})}function o(){let e=(0,r.useContext)(a);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}}},function(e){e.O(0,[301,83,417,972,971,117,744],function(){return e(e.s=8570)}),_N_E=e.O()}]);