(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{8570:function(e,t,n){Promise.resolve().then(n.bind(n,7048))},7648:function(e,t,n){"use strict";n.d(t,{default:function(){return s.a}});var r=n(2972),s=n.n(r)},5956:function(e,t,n){"use strict";n.d(t,{I8:function(){return o},JU:function(){return s.JU},QT:function(){return s.QT},db:function(){return a},pl:function(){return s.pl}});var r=n(2848),s=n(4353),u=n(9271);let i=(0,r.ZF)({apiKey:"AIzaSyDdKApKZNEERKmPLfB8SxlGsJRTZV5ALvc",authDomain:"tutor-website-5528f.firebaseapp.com",projectId:"tutor-website-5528f",storageBucket:"tutor-website-5528f.appspot.com",messagingSenderId:"320690040214",appId:"1:320690040214:web:fde29b5326692c27e981b7",measurementId:"G-J0MZ8W9SSG"}),a=(0,s.ad)(i),o=(0,u.v0)(i)},7048:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(7437),s=n(2265),u=n(5956),i=n(3881),a=n(9271),o=n(5475),c=n(7648);function l(){let[e,t]=(0,s.useState)(""),[n,l]=(0,s.useState)(""),[d,f]=(0,s.useState)(""),h=(0,o.useRouter)(),{setUser:p}=(0,i.a)();async function m(e){let t=(0,u.JU)(u.db,"users",e),n=await (0,u.QT)(t);if(n.exists())return n.data();console.log("No such document!")}let w=async()=>{try{let t=await (0,a.e5)(u.I8,e,n),r={email:t.user.email,uid:t.user.uid,type:t.user.type},s=await m(r.uid);console.log("curUser data is:",s),p(r),"student"==s.type?h.push("/user/student"):"teacher"==s.type&&h.push("/user/teacher")}catch(e){console.error("Sign-in error:",e),f("something went wrong")}};return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Sign In"}),(0,r.jsx)(c.default,{href:"/",children:"Return Home"}),(0,r.jsx)("form",{children:(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",onChange:e=>t(e.target.value)}),(0,r.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",onChange:e=>l(e.target.value)})]})}),(0,r.jsx)("button",{onClick:w,children:"Sign In"}),d&&(0,r.jsxs)("div",{children:[" ",(0,r.jsx)("p",{className:"error-text",children:d})," "]})]})}},3881:function(e,t,n){"use strict";n.d(t,{S:function(){return u},UserProvider:function(){return a},a:function(){return i}});var r=n(7437),s=n(2265);let u=(0,s.createContext)();function i(){let e=(0,s.useContext)(u);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}function a(e){let{children:t}=e,[n,i]=(0,s.useState)(null);return(0,r.jsx)(u.Provider,{value:{user:n,setUser:i},children:t})}}},function(e){e.O(0,[301,83,972,417,971,117,744],function(){return e(e.s=8570)}),_N_E=e.O()}]);