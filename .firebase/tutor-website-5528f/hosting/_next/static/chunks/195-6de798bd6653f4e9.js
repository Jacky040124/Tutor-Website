"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{195:function(e,t,a){a.d(t,{Z:function(){return b}});var s=a(7437),r=a(2265),n=a(4693),i=a(3373),l=a(8700),d=a(5036),o=a(4582);function c(e,t){let a=(0,d.Q)(e,null==t?void 0:t.in);return a.setHours(0,0,0,0),a}let u=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],m=["M","T","W","T","F","S","S"],x=e=>Array(7).fill(null).map((t,a)=>{let s=(0,l.E)(e,a);return{date:(0,d.Q)(s,void 0).getDate(),isToday:function(e,t,a){let[s,r]=function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];let r=o.L.bind(null,e||a.find(e=>"object"==typeof e));return a.map(r)}(void 0,e,t);return+c(s)==+c(r)}(s,new Date)}});var h=a(4353),v=a(8858);async function g(e,t,a){try{if(a<e.price)throw Error("Insufficient balance to make this booking");return console.log("Booking data:",{teacherId:e.teacherId,teacherIdType:typeof e.teacherId,studentId:e.studentId,studentIdType:typeof e.studentId}),await (0,h.i3)(v.db,async t=>{var a;let s=(0,h.JU)(v.db,"bookings","".concat(e.studentId,"_").concat(e.teacherId,"_").concat(Date.now())),r=(0,h.JU)(v.db,"users",e.teacherId),n=(0,h.JU)(v.db,"users",e.studentId),i=await t.get(r);if(!i.exists())throw Error("Teacher not found - ID: "+e.teacherId);let l=i.data();console.log("Teacher document found:",l);let d=(a=l.availability,console.log("Initial booking data:",e),a.filter(t=>{let a=t.date.year===e.date.year&&t.date.month===e.date.month&&t.date.day===e.date.day;if(!a)return!0;let s=parseFloat(t.startTime)===parseFloat(e.startTime);return console.log("Comparing slot:",{slot:t,datesMatch:a,startTimeMatch:s,slotStartTime:t.startTime,bookingStartTime:e.startTime,match:a&&s}),!(a&&s)}));return console.log("Current teacher data:",l),console.log("Updated availability:",d),t.set(r,{...l,availability:d},{merge:!0}),t.set(s,{...e,status:"confirmed",createdAt:new Date().toISOString()}),t.update(n,{bookingHistory:(0,h.vr)(s.id),balance:(0,h.nP)(-e.price)}),{success:!0,message:"Booking confirmed successfully!",updatedAvailability:d}})}catch(e){throw console.error("Error confirming booking:",e),e}}async function f(e){try{console.log("Fetching bookings for teacher:",e);let t=(0,h.hJ)(v.db,"bookings"),a=(0,h.IO)(t,(0,h.ar)("teacherId","==",e),(0,h.ar)("status","==","confirmed")),s=await (0,h.PL)(a),r=[];return s.forEach(e=>{r.push({id:e.id,...e.data()})}),console.log("Found bookings:",r),r}catch(e){return console.error("Error fetching teacher bookings:",e),[]}}async function y(e,t,a,s){try{let r=await g(e,t,s);a(!1),alert(r.message)}catch(e){console.error("Error confirming booking:",e),alert(e.message)}}function j(e){let{selectedSlot:t,teacherData:a,onConfirm:l,onClose:d}=e,{user:o}=(0,n.a)(),[c,u]=(0,r.useState)(!1),m=async()=>{u(!0);try{let e={studentId:o.uid,teacherId:a.uid,date:t.date,startTime:t.startTime,endTime:t.startTime+1,status:"confirmed",createdAt:new Date().toISOString(),price:a.pricing};await l(e,a.availability,o.balance),d()}catch(e){console.error("Booking error:",e),alert(e.message)}finally{u(!1)}};return(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",children:(0,s.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,s.jsxs)("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Confirm Booking"}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Teacher: ",a.nickname]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Date: ",t.date.day,"/",t.date.month,"/",t.date.year]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Time: ",(0,i.mr)(t.startTime)," - ",(0,i.mr)(t.startTime+1)]}),(0,s.jsxs)("p",{className:"text-sm font-bold text-gray-700 mt-2",children:["Price: $",a.pricing]}),(0,s.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-md",children:[(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Payment Notice:"})," Online payment is currently under development. Please e-transfer the lesson fee to your teacher at:"]}),(0,s.jsx)("p",{className:"text-sm font-medium text-blue-900 mt-1",children:a.email})]})]})]}),(0,s.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[(0,s.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-500 sm:col-start-2",onClick:m,disabled:c,children:c?"Confirming...":"Confirm Booking"}),(0,s.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:col-start-1 sm:mt-0",onClick:d,disabled:c,children:"Cancel"})]})]})})})})}var p=a(2894);function b(e){let{availability:t,userType:a,handleClickEvent:l}=e,[d,o]=(0,r.useState)(0),[c,h]=(0,r.useState)(!1),[v,g]=(0,r.useState)(null),[b,w]=(0,r.useState)(""),[N,T]=(0,r.useState)([]),{user:k,selectedTeacher:D,teacherList:S}=(0,n.a)(),M="teacher"===a?k:S[D];if((0,r.useEffect)(()=>{(async()=>{if("teacher"===a&&(null==k?void 0:k.uid))try{let e=await f(k.uid);console.log("Fetched bookings:",e),T(e)}catch(e){console.error("Error fetching bookings:",e),w("Failed to fetch bookings")}else if("student"===a&&(null==M?void 0:M.uid))try{let e=await f(M.uid);console.log("Fetched bookings:",e),T(e)}catch(e){console.error("Error fetching bookings:",e),w("Failed to fetch bookings")}})()},[a,null==k?void 0:k.uid,null==M?void 0:M.uid]),"teacher"===a&&!(null==k?void 0:k.uid))return(0,s.jsx)("div",{children:"Loading user data..."});if("student"===a&&!(null==M?void 0:M.uid))return(0,s.jsx)("div",{children:"Please select a teacher"});let I=(e,t,s)=>{"student"===a?s-t>=1?(g({date:(0,i.ae)(e,d),startTime:t,endTime:Math.min(t+1,s)}),h(!0)):alert("This time slot is too short for a lesson"):l&&l(e,t,s)},E=e=>{let{day:t,startTime:a,endTime:r,isBooking:n,studentId:i}=e,l={1:"sm:col-start-1",2:"sm:col-start-2",3:"sm:col-start-3",4:"sm:col-start-4",5:"sm:col-start-5",6:"sm:col-start-6",7:"sm:col-start-7"},d=12*a+2,o=(r-a)*12;return console.log("EventDisplay:",{day:t,columnClass:l[t],startTime:a,endTime:r,startRow:d,EndRows:o}),(0,s.jsx)("li",{className:"relative mt-px hidden ".concat(l[t]," sm:flex"),style:{gridRow:"".concat(d," / span ").concat(o)},children:(0,s.jsx)("a",{onClick:()=>!n&&I(t,a,r),className:"group absolute inset-1 flex flex-col overflow-y-auto rounded-lg \n                              ".concat(n?"bg-red-100 cursor-default":r-a>=1?"bg-green-100 hover:bg-green-200":"bg-gray-100"," \n                              p-2 text-xs leading-5"),children:(0,s.jsxs)("p",{className:"text-gray-500 group-hover:text-gray-700",children:[(0,s.jsxs)("time",{dateTime:"2022-01-15T".concat(a,":00"),children:[a,":00"]}),n&&i&&(0,s.jsx)("span",{className:"ml-1 text-red-600",children:"(Booked)"})]})})})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex h-full flex-col",children:(0,s.jsx)("div",{className:"isolate flex flex-auto flex-col overflow-auto bg-white",children:(0,s.jsxs)("div",{className:"flex max-w-full flex-none flex-col sm:max-w-none md:max-w-full",style:{width:"165%"},children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("button",{onClick:()=>{o(e=>e-1)},className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Previous Week"}),(0,s.jsx)("button",{onClick:()=>{o(e=>e+1)},className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Next Week"})]}),(0,s.jsx)(()=>{let{monday:e}=(0,i.DR)(d),t=x(new Date(e.year,e.month-1,e.day));return(0,s.jsxs)("div",{className:"sticky top-0 z-30 flex-none bg-white shadow ring-1 ring-black ring-opacity-5 sm:pr-8",children:[(0,s.jsx)("div",{className:"grid grid-cols-7 text-sm leading-6 text-gray-500 sm:hidden",children:m.map((e,a)=>(0,s.jsxs)("button",{type:"button",className:"flex flex-col items-center pb-3 pt-2",children:[e,(0,s.jsx)("span",{className:"mt-1 flex h-8 w-8 items-center justify-center font-semibold ".concat(t[a].isToday?"rounded-full bg-indigo-600 text-white":"text-gray-900"),children:t[a].date})]},a))}),(0,s.jsxs)("div",{className:"-mr-px hidden grid-cols-7 divide-x divide-gray-100 border-r border-gray-100 text-sm leading-6 text-gray-500 sm:grid",children:[(0,s.jsx)("div",{className:"col-end-1 w-14"}),u.map((e,a)=>(0,s.jsx)("div",{className:"flex items-center justify-center py-3",children:(0,s.jsxs)("span",{className:"flex items-baseline",children:[e,(0,s.jsx)("span",{className:"ml-1.5 ".concat(t[a].isToday?"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-600 font-semibold text-white":"items-center justify-center font-semibold text-gray-900"),children:t[a].date})]})},a))]})]})},{}),(0,s.jsxs)("div",{className:"flex flex-auto",children:[(0,s.jsx)("div",{className:"sticky left-0 z-10 w-14 flex-none bg-white ring-1 ring-gray-100"}),(0,s.jsxs)("div",{className:"grid flex-auto grid-cols-1 grid-rows-1",children:[(0,s.jsxs)("div",{className:"col-start-1 col-end-2 row-start-1 grid divide-y divide-gray-100",style:{gridTemplateRows:"repeat(48, minmax(3.5rem, 1fr))"},children:[(0,s.jsx)("div",{className:"row-end-1 h-7"}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"12AM"})," "]}),(0,s.jsx)("div",{children:" "}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"1AM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"2AM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"3AM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"4AM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"5AM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"6AM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"7AM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"8AM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"9AM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"10AM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"11AM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"12PM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"1PM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"2PM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"3PM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"4PM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"5PM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"6PM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"7PM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"8PM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"9PM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"10PM"})," "]}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"calendarText",children:"11PM"})," "]}),(0,s.jsx)("div",{})]}),(0,s.jsx)(()=>(0,s.jsxs)("div",{className:"col-start-1 col-end-2 row-start-1 hidden grid-cols-7 grid-rows-1 divide-x divide-gray-100 sm:grid sm:grid-cols-7",children:[(0,s.jsx)("div",{className:"col-start-1 row-span-full","data-day":"Monday"}),(0,s.jsx)("div",{className:"col-start-2 row-span-full","data-day":"Tuesday"}),(0,s.jsx)("div",{className:"col-start-3 row-span-full","data-day":"Wednesday"}),(0,s.jsx)("div",{className:"col-start-4 row-span-full","data-day":"Thursday"}),(0,s.jsx)("div",{className:"col-start-5 row-span-full","data-day":"Friday"}),(0,s.jsx)("div",{className:"col-start-6 row-span-full","data-day":"Saturday"}),(0,s.jsx)("div",{className:"col-start-7 row-span-full","data-day":"Sunday"}),(0,s.jsx)("div",{className:"col-start-8 row-span-full w-8"})]}),{}),(0,s.jsx)(()=>{if(!Array.isArray(t))return null;let{monday:e,sunday:a}=(0,i.DR)(d),r=(0,i.hp)(e),n=(0,i.hp)(a),l=t.map((e,t)=>{var a,l,d;if(!(null==e?void 0:null===(a=e.date)||void 0===a?void 0:a.year)||!(null==e?void 0:null===(l=e.date)||void 0===l?void 0:l.month)||!(null==e?void 0:null===(d=e.date)||void 0===d?void 0:d.day))return null;try{let a=(0,i.hp)(e.date);if(a>=r&&a<=n){let a=new Date(e.date.year,e.date.month-1,e.date.day).getDay(),r=0===a?7:a;return console.log("Event:",{date:e.date,calculatedDay:r,startTime:e.startTime,endTime:e.endTime}),(0,s.jsx)(E,{day:r,endTime:e.endTime,startTime:e.startTime,isBooking:!1},"avail_".concat(t))}return null}catch(e){return console.error("Error processing event:",e),null}}),o=N.map((e,t)=>{var a,l,d;if(!(null==e?void 0:null===(a=e.date)||void 0===a?void 0:a.year)||!(null==e?void 0:null===(l=e.date)||void 0===l?void 0:l.month)||!(null==e?void 0:null===(d=e.date)||void 0===d?void 0:d.day))return null;try{let a=(0,i.hp)(e.date);if(a>=r&&a<=n){let a=new Date(e.date.year,e.date.month-1,e.date.day).getDay(),r=0===a?7:a;return console.log("Booking:",{date:e.date,calculatedDay:r,startTime:e.startTime,endTime:e.endTime}),(0,s.jsx)(E,{day:r,endTime:e.endTime,startTime:e.startTime,isBooking:!0,studentId:e.studentId},"booking_".concat(t))}return null}catch(e){return console.error("Error processing booking:",e),null}});return(0,s.jsxs)("ol",{className:"col-start-1 col-end-2 row-start-1 grid grid-cols-1 sm:grid-cols-7 sm:pr-8",style:{gridTemplateRows:"1.75rem repeat(288, minmax(0, 1fr)) auto"},children:[l,o]})},{})]})]})]})})}),b&&(0,s.jsx)(p.Z,{message:b}),c&&(0,s.jsx)(j,{selectedSlot:v,teacherData:M,onConfirm:e=>y(e,t,h,k.balance),onClose:()=>h(!1)}),(0,s.jsxs)("div",{className:"mt-4 p-4 bg-gray-100 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Debug Information:"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{children:["Number of Bookings: ",N.length]}),(0,s.jsxs)("div",{className:"text-sm font-mono whitespace-pre-wrap",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Bookings:"}),JSON.stringify(N,null,2)]})]})]})]})}},2894:function(e,t,a){a.d(t,{Z:function(){return r}});var s=a(7437);function r(e){let{message:t}=e;return t?(0,s.jsxs)("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,s.jsx)("strong",{className:"font-bold",children:"Error: "}),(0,s.jsx)("span",{className:"block sm:inline",children:t})]}):null}},4693:function(e,t,a){a.d(t,{UserProvider:function(){return d},a:function(){return o}});var s=a(7437),r=a(2265),n=a(9271),i=a(8858);let l=(0,r.createContext)();function d(e){let{children:t}=e,[a,d]=(0,r.useState)(null),[o,c]=(0,r.useState)(!0),[u,m]=(0,r.useState)([]),[x,h]=(0,r.useState)({}),[v,g]=(0,r.useState)("");(0,r.useEffect)(()=>{console.log("UserContext mount");let e=(0,n.Aj)(i.I8,async e=>{if(console.log("Auth state changed:",null==e?void 0:e.uid),e)try{let t=(0,i.JU)(i.db,"users",e.uid),a=(await (0,i.QT)(t)).data();"teacher"===a.type?d({email:e.email,uid:e.uid,type:a.type,nickname:a.nickname,description:a.description,availability:a.availability,pricing:a.pricing}):"student"===a.type&&d({email:e.email,uid:e.uid,type:a.type,nickname:a.nickname,balance:a.balance,bookingHistory:a.bookingHistory})}catch(e){console.error("Error fetching user data:",e)}else d(null);c(!1)});return()=>e()},[]);let f=async(e,t)=>{try{let a=await (0,n.e5)(i.I8,e,t),s=(0,i.JU)(i.db,"users",a.user.uid),r=(await (0,i.QT)(s)).data();return d({email:a.user.email,uid:a.user.uid,type:null==r?void 0:r.type}),m((null==r?void 0:r.availability)||[]),{success:!0,userData:r}}catch(e){return console.error("Error signing in:",e),{success:!1,error:e}}},y=async e=>{if(null==a?void 0:a.uid)try{let t=(0,i.JU)(i.db,"users",a.uid);await (0,i.pl)(t,{availability:e},{merge:!0}),m(e)}catch(e){throw console.error("Error updating availability:",e),e}},j=async e=>{if(null==a?void 0:a.uid)try{let t=(0,i.JU)(i.db,"users",a.uid);await (0,i.pl)(t,{pricing:e},{merge:!0}),d(t=>({...t,pricing:e}))}catch(e){throw console.error("Error updating price:",e),e}},p=async e=>{if(null==a?void 0:a.uid)try{let t=(0,i.JU)(i.db,"users",a.uid);await (0,i.pl)(t,{nickname:e},{merge:!0}),d(t=>({...t,nickname:e}))}catch(e){throw console.error("Error updating nickname:",e),e}},b=async e=>{if(null==a?void 0:a.uid)try{let t=(0,i.JU)(i.db,"users",a.uid);await (0,i.pl)(t,{description:e},{merge:!0}),d(t=>({...t,description:e}))}catch(e){throw console.error("Error updating description:",e),e}},w=async()=>{let e={};return(await (0,i.PL)((0,i.hJ)(i.db,"users"))).forEach(t=>{let a=t.data();"teacher"===a.type&&(e[a.uid]=a)}),h(e),e};return(0,s.jsx)(l.Provider,{value:{user:a,setUser:d,loading:o,availability:u,updateAvailability:y,signIn:f,teacherList:x,fetchTeachers:w,updatePrice:j,updateNickname:p,updateDescription:b,selectedTeacher:v,setSelectedTeacher:g},children:t})}function o(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},8858:function(e,t,a){a.d(t,{I8:function(){return d},JU:function(){return s.JU},PL:function(){return s.PL},QT:function(){return s.QT},db:function(){return l},hJ:function(){return s.hJ},pl:function(){return s.pl}});var s=a(4353),r=a(2848),n=a(9271);let i=(0,r.ZF)({apiKey:"AIzaSyDdKApKZNEERKmPLfB8SxlGsJRTZV5ALvc",authDomain:"tutor-website-5528f.firebaseapp.com",projectId:"tutor-website-5528f",storageBucket:"tutor-website-5528f.appspot.com",messagingSenderId:"320690040214",appId:"1:320690040214:web:fde29b5326692c27e981b7",measurementId:"G-J0MZ8W9SSG"}),l=(0,s.ad)(i),d=(0,n.v0)(i)},3373:function(e,t,a){a.d(t,{ae:function(){return c},mr:function(){return o},DR:function(){return l},hp:function(){return i},bc:function(){return d}});let s={};var r=a(5036),n=a(8700);function i(e){return e instanceof Date?new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0):new Date(e.year,e.month-1,e.day,0,0,0,0)}function l(e){var t;let a=function(e,t){var a,n,i,l,d,o,c,u;let m=null!==(u=null!==(c=null!==(o=null!==(d=null==t?void 0:t.weekStartsOn)&&void 0!==d?d:null==t?void 0:null===(n=t.locale)||void 0===n?void 0:null===(a=n.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==o?o:s.weekStartsOn)&&void 0!==c?c:null===(l=s.locale)||void 0===l?void 0:null===(i=l.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==u?u:0,x=(0,r.Q)(e,null==t?void 0:t.in),h=x.getDay();return x.setDate(x.getDate()-((h<m?7:0)+h-m)),x.setHours(0,0,0,0),x}((t=new Date,(0,n.E)(t,7*e,void 0)),{weekStartsOn:1}),i=(0,n.E)(a,6);return{monday:{year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()},sunday:{year:i.getFullYear(),month:i.getMonth()+1,day:i.getDate()}}}let d=e=>{if(!e)return null;let[t,a]=e.split(":").map(Number);return t+a/60},o=e=>{let t=e%1*60;return"".concat(Math.floor(e),":").concat(0===t?"00":t)};function c(e,t){let a=new Date(new Date);a.setDate(a.getDate()-a.getDay()+1+7*t);let s=new Date(a);return s.setDate(a.getDate()+(e-1)),{year:s.getFullYear(),month:s.getMonth()+1,day:s.getDate()}}},8700:function(e,t,a){a.d(t,{E:function(){return n}});var s=a(4582),r=a(5036);function n(e,t,a){let n=(0,r.Q)(e,null==a?void 0:a.in);return isNaN(t)?(0,s.L)((null==a?void 0:a.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}},4582:function(e,t,a){a.d(t,{L:function(){return r}});let s=Symbol.for("constructDateFrom");function r(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&s in e?e[s](t):e instanceof Date?new e.constructor(t):new Date(t)}},5036:function(e,t,a){a.d(t,{Q:function(){return r}});var s=a(4582);function r(e,t){return(0,s.L)(t||e,e)}}}]);